<md-toolbar>
    <div class="md-toolbar-tools">
        <h2>Modificar aspecto</h2>
    </div>
</md-toolbar>
<md-content flex layout-padding>
    <br/>
    <br/>
    <md-input-container>
        <label>Bundle *</label>
        <md-select ng-model="bundle" ng-change="loadAspect()">
            <md-option ng-repeat="b in info" ng-bind="b.NombreBundle"></md-option>
        </md-select>
    </md-input-container>

    <md-input-container>
        <label>Aspectos en {{bundle}} *</label>
        <md-select ng-model="aspecto" ng-disabled="!bundle" ng-change="enablemod()">
            <md-option ng-repeat="as in aspectosbundle" ng-bind="as"></md-option>
        </md-select>
    </md-input-container>

    <form name="manageAspectos">
        <div>
            <strong ng-show="aspecto && bundle">
                Datos de {{aspecto}} en {{bundle}}:
            </strong>
            <br/> <br/>

            <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Nombre de aspecto *</label>
                    <input ng-disabled="!modificable" name="nombAspecto" ng-model="newAspecto" ng-change="modif()"
                           ng-pattern="regexnombaspecto">

                    <div ng-messages="manageAspectos.nombAspecto.$error">
                        <div ng-message="pattern">{{regexnombaspectoMess}}</div>
                    </div>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm>
                    <label>Acción del controlador *</label>
                    <input ng-disabled="!modificable" ng-model="controllerAction" ng-change="modif()" name="accCont"
                           ng-pattern="regexacc_cont">

                    <div ng-messages="manageAspectos.accCont.$error">
                        <div ng-message="pattern">{{regexacc_contMess}}</div>
                    </div>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm>
                    <label>Tipo *</label>
                    <md-select ng-disabled="!modificable" ng-model="type" ng-change="modif()">
                        <md-option>pre</md-option>
                        <md-option>post</md-option>
                    </md-select>
                </md-input-container>
            </div>

            <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Nombre del servicio *</label>
                    <input ng-disabled="!modificable" ng-model="serviceName" ng-change="modif()" name="serv"
                           ng-pattern="regexserv">

                    <div ng-messages="manageAspectos.serv.$error">
                        <div ng-message="pattern">{{regexservMess}}</div>
                    </div>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm>
                    <label>Método *</label>
                    <input ng-disabled="!modificable" ng-model="method" ng-change="modif()" name="metodo"
                           ng-pattern="nombmet">

                    <div ng-messages="manageAspectos.metodo.$error">
                        <div ng-message="pattern">{{nombmetMess}}</div>
                    </div>
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm>
                    <label>Orden *</label>
                    <input ng-disabled="!modificable" name="orden" ng-pattern="numeric" ng-model="order" type="number"
                           ng-change="modif()">

                    <div ng-messages="manageAspectos.orden.$error">
                        <div ng-message="pattern">{{numericMess}}</div>
                    </div>
                </md-input-container>
            </div>

            <md-button
                    ng-click="guardarCambios()"
                    ng-disabled="!wasmodified ||!modificable || !newAspecto || !controllerAction || !type || !serviceName || !order || !method"
                    class="md-raised md-primary">Modificar
            </md-button>
        </div>
    </form>
</md-content>